<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>移动端测试页面</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .device-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .media-query-test {
            background: #f3e5f5;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .match { color: #4caf50; font-weight: bold; }
        .no-match { color: #f44336; font-weight: bold; }
        
        .instructions {
            background: #fff3e0;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #ff9800;
        }
        
        /* 导航样式测试 */
        .desktop-nav {
            background: #2196f3;
            color: white;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            display: block;
        }
        .mobile-nav {
            background: #ff9800;
            color: white;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            display: none;
        }
        
        /* 媒体查询规则 - 与实际CSS保持一致 */
        @media (max-width: 768px) {
            .desktop-nav { display: none !important; }
            .mobile-nav { display: block !important; }
        }
        
        @media (max-width: 480px) {
            .mobile-nav { background: #e91e63 !important; }
        }
        
        @media (hover: none) and (pointer: coarse) {
            .mobile-nav { border: 2px solid #4caf50 !important; }
        }
        
        @media (orientation: portrait) {
            .mobile-nav { font-style: italic !important; }
        }
        
        @media (min-width: 481px) and (max-width: 768px) and (orientation: portrait) {
            .mobile-nav { text-decoration: underline !important; }
        }
        
        @media (max-width: 768px) and (hover: none) and (pointer: coarse) {
            .mobile-nav { 
                background: #9c27b0 !important;
                font-weight: bold !important;
            }
        }
    </style>
</head>
<body>
    <div class="instructions">
        <h2>📱 移动端测试指导</h2>
        <p><strong>桌面端测试：</strong></p>
        <ol>
            <li>按 F12 打开开发者工具</li>
            <li>点击设备模拟图标（手机/平板图标）</li>
            <li>选择 iPhone 或 Android 设备</li>
            <li>刷新页面查看效果</li>
        </ol>
        <p><strong>真实移动设备测试：</strong></p>
        <ol>
            <li>用手机访问 Vercel 部署的网站</li>
            <li>检查导航是否正确显示为移动端样式</li>
            <li>如果仍显示桌面端，请清除浏览器缓存</li>
        </ol>
    </div>
    
    <div class="test-container">
        <h1>移动端响应式测试页面</h1>
        
        <div class="device-info">
            <h3>设备信息</h3>
            <p><strong>屏幕宽度:</strong> <span id="screenWidth"></span>px</p>
            <p><strong>视口宽度:</strong> <span id="viewportWidth"></span>px</p>
            <p><strong>用户代理:</strong> <span id="userAgent"></span></p>
            <p><strong>触摸支持:</strong> <span id="touchSupport"></span></p>
            <p><strong>设备像素比:</strong> <span id="devicePixelRatio"></span></p>
        </div>
        
        <div class="nav-test">
            <h3>导航测试</h3>
            
            <div class="desktop-nav">
                <strong>桌面端导航</strong> - 如果你看到这个，说明桌面端样式生效
            </div>
            
            <div class="mobile-nav">
                <strong>移动端导航</strong> - 如果你看到这个，说明移动端样式生效
            </div>
            
            <div class="status desktop-status" id="desktopStatus">
                桌面端导航当前状态: 检测中...
            </div>
            
            <div class="status mobile-status" id="mobileStatus">
                移动端导航当前状态: 检测中...
            </div>
        </div>
        
        <div class="device-info">
            <h3>媒体查询测试结果</h3>
            <div id="mediaQueryResults"></div>
        </div>
        
        <div class="device-info">
            <h3>说明</h3>
            <ul>
                <li>在桌面端（宽度 > 768px）应该显示蓝色的桌面端导航</li>
                <li>在移动端（宽度 ≤ 768px）应该显示橙色的移动端导航</li>
                <li>如果两个都显示或都不显示，说明CSS规则有问题</li>
                <li>请在不同设备上测试此页面</li>
            </ul>
        </div>
    </div>
    
    <script>
        function updateDeviceInfo() {
            document.getElementById('screenWidth').textContent = screen.width;
            document.getElementById('viewportWidth').textContent = window.innerWidth;
            document.getElementById('userAgent').textContent = navigator.userAgent;
            document.getElementById('touchSupport').textContent = 'ontouchstart' in window ? '是' : '否';
            document.getElementById('devicePixelRatio').textContent = window.devicePixelRatio;
            
            // 检测导航状态
            const desktopNav = document.querySelector('.desktop-nav');
            const mobileNav = document.querySelector('.mobile-nav');
            const desktopStatus = document.getElementById('desktopStatus');
            const mobileStatus = document.getElementById('mobileStatus');
            
            const desktopVisible = window.getComputedStyle(desktopNav).display !== 'none';
            const mobileVisible = window.getComputedStyle(mobileNav).display !== 'none';
            
            desktopStatus.textContent = `桌面端导航: ${desktopVisible ? '显示' : '隐藏'}`;
            mobileStatus.textContent = `移动端导航: ${mobileVisible ? '显示' : '隐藏'}`;
            
            // 媒体查询测试
            const mediaQueries = [
                { name: 'max-width: 768px', query: '(max-width: 768px)' },
                { name: 'max-width: 480px', query: '(max-width: 480px)' },
                { name: 'hover: none', query: '(hover: none)' },
                { name: 'pointer: coarse', query: '(pointer: coarse)' },
                { name: 'orientation: portrait', query: '(orientation: portrait)' },
                { name: 'min-width: 481px and max-width: 768px and orientation: portrait', 
                  query: '(min-width: 481px) and (max-width: 768px) and (orientation: portrait)' },
                { name: 'max-width: 768px and hover: none and pointer: coarse', 
                  query: '(max-width: 768px) and (hover: none) and (pointer: coarse)' }
            ];
            
            const results = mediaQueries.map(mq => {
                const matches = window.matchMedia(mq.query).matches;
                return `<p><strong>${mq.name}:</strong> ${matches ? '✅ 匹配' : '❌ 不匹配'}</p>`;
            }).join('');
            
            document.getElementById('mediaQueryResults').innerHTML = results;
        }
        
        // 初始化
        updateDeviceInfo();
        
        // 监听窗口大小变化
        window.addEventListener('resize', updateDeviceInfo);
        window.addEventListener('orientationchange', () => {
            setTimeout(updateDeviceInfo, 100);
        });
    </script>
</body>
</html>